<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">

    <title>Student CRUD With Kotlin</title>
</head>
<body>



    <!-- List of Students -->
<div class="container ">

    <div class="d-flex justify-content-around text-center">
        <div class="p-2 " th:if="${not #lists.isEmpty(students)}"><a href="/addStudent" class="badge badge-primary">Add New Student</a></div>
        <div class="p-2 "><strong>Student List</strong></div>
        <div class="p-2" th:if="${not #lists.isEmpty(students)}"><span class=" badge badge-primary" > Number Of Students : [[${#lists.size(students)}]]</span></div>
    </div>
    <table class="table">
        <thead class="thead-dark">
        <tr>
            <th scope="col">ID</th>
            <th scope="col">Name</th>
            <th scope="col">Roll Number</th>
            <th scope="col">Address</th>
            <th scope="col">Enable</th>
            <th scope="col">Edit</th>
            <th scope="col">Delete</th>
        </tr>
        </thead>
        <tbody>

        <th:block th:if="${not #lists.isEmpty(students) && students != null}">
        <tr th:each="student,itr : ${students}">


                <th scope="row">[[${student.id}]]</th>
                <td th:text="${student.name}">Name</td>
                <td th:text="${student.roll}">Roll Number</td>
                <td th:text="${student.address}">Address</td>
                <td th:switch="${student.enable}">

                    <th:block th:case="true">
                        <span class="text-success">Active</span>
                    </th:block>
                    <th:block th:case="false">
                        <span class="text-danger" >Deactivated</span>
                    </th:block>

                </td>
                <td><a th:href="@{/update/{id}(id=${student.id})}" class=" badge badge-primary">Edit</a></td>
                <td><a th:href="@{/delete/{id}(id=${student.id})}" class=" badge badge-danger">Delete</a></td>


        </tr>
        </th:block>
        <th:block th:unless="${not #lists.isEmpty(students) && students != null}">
          <tr class="text-center">
            <td colspan="7" class="bg-light">
                <strong class="text-danger">No records Available</strong>
                <div class="p-2 "><a href="/addStudent" class="badge badge-primary">Add New Student</a></div>
            </td>
          </tr>
        </th:block>
        </tbody>
    </table>

</div>



    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
</body>
</html>